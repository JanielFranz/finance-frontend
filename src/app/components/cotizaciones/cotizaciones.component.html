<app-navigation-bar></app-navigation-bar>
<div class="container">
    <br>
    <br>
    <h2 class="title"><strong>Cotizaciones</strong></h2>
    <br>
    <br>

  <div class="row">
    <div class="col-md-6 d-flex align-items-center">
      <mat-label>Realiza tu cotizacion</mat-label>
    </div>
    <div class="col-md-6 text-end ">
      <button mat-raised-button id="button_cotizacion" [routerLink]="'/cotizar/' + cliente_id">Cotizar</button>
    </div>
  </div>

  <br>
  <br>
  <br>
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">


      <ng-container matColumnDef="cliente_id">
        <th mat-header-cell *matHeaderCellDef class="text-center"> Cliente </th>
        <td mat-cell *matCellDef="let element" class="text-center"> {{element.customer.name}} {{element.customer.lastName}} </td>
      </ng-container>

      <ng-container matColumnDef="marca">
        <th mat-header-cell *matHeaderCellDef class="text-center"> Marca </th>
        <td mat-cell *matCellDef="let element" class="text-center"> {{element.vehiculo.marca}} </td>
      </ng-container>


      <ng-container matColumnDef="modelo">
        <th mat-header-cell *matHeaderCellDef class="text-center"> Modelo </th>
        <td mat-cell *matCellDef="let element" class="text-center"> {{element.vehiculo.modelo}} </td>
      </ng-container>

      <ng-container matColumnDef="moneda">
        <th mat-header-cell *matHeaderCellDef class="text-center"> Moneda </th>
        <td mat-cell *matCellDef="let element" class="text-center"> {{element.informacion.monedas[0].nombre}} </td>
      </ng-container>

      <ng-container matColumnDef="ncuotas">
        <th mat-header-cell *matHeaderCellDef class="text-center"> N°cuotas </th>
        <td mat-cell *matCellDef="let element" class="text-center"> {{element.informacion.numeroAnios * 12 }} </td>
      </ng-container>

      <ng-container matColumnDef="precio">
        <th mat-header-cell *matHeaderCellDef class="text-center"> Precio Vehiculo </th>
        <td mat-cell *matCellDef="let element" class="text-center"> {{element.vehiculo.precio}} </td>
      </ng-container>

      <ng-container matColumnDef="pgracia">
        <th mat-header-cell *matHeaderCellDef class="text-center"> Per Gracia </th>
        <td mat-cell *matCellDef="let element" class="text-center"> {{element.informacion.tiempoPlazoDeGracia}} </td>
      </ng-container>

      <ng-container matColumnDef="tasa">
        <th mat-header-cell *matHeaderCellDef class="text-center"> Tasa </th>
        <td mat-cell *matCellDef="let element" class="text-center"> {{element.informacion.porcentajeTasaInteres}} </td>
      </ng-container>

      <ng-container matColumnDef="pcuotainicial">
        <th mat-header-cell *matHeaderCellDef class="text-center"> %Cuota Inicial </th>
        <td mat-cell *matCellDef="let element" class="text-center"> {{element.informacion.porcentajeCuotaInicial}} </td>
      </ng-container>

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef class="text-center"> ID Operación </th>
        <td mat-cell *matCellDef="let element" class="text-center"> {{element.id}} </td>
      </ng-container>

      <ng-container matColumnDef="accion">
        <th mat-header-cell *matHeaderCellDef class="text-center"> Cronograma </th>
        <td mat-cell *matCellDef="let element" class="text-center">
          <button [routerLink]="'/cronograma/' + element.id + '/cliente/'+ element.customer.id">
            <mat-icon>description</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" aria-label="Select page of users"></mat-paginator>
  </div>
